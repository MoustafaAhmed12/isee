<!-- camera-detection.component.html -->
<div class="min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
  <!-- ุดุฑูุท ุงูุนููุงู -->
  <header class="bg-white dark:bg-gray-800 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
        ๐๏ธ ูุณุงุนุฏ ุงูุฑุคูุฉ ููููููููู
      </h1>
      
      <!-- ุฒุฑ ุงููุถุน ุงููููู -->
      <!-- <button 
        (click)="toggleDarkMode()"
        class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"
        aria-label="ุชุจุฏูู ุงููุถุน ุงููููู"
      >
        {{ isDarkMode ? 'โ๏ธ' : '๐' }}
      </button> -->
    </div>
  </header>

  <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
  <main class="max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
    <!-- ุญุงูุฉ ุงูุชุญููู -->
    <div *ngIf="isLoading" class="flex justify-center items-center py-12">
      <div class="text-center">
        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
        <p class="mt-4 text-gray-600 dark:text-gray-400">ุฌุงุฑู ุงูุชุญููู...</p>
      </div>
    </div>

    <!-- ููุทูุฉ ุงูููุฏูู -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden mb-6 transition-all duration-300"
         [class.opacity-50]="!isCameraOn">
      <div class="relative aspect-video bg-black flex items-center justify-center">
        <!-- ูุคุดุฑ ุญุงูุฉ ุงููุงููุฑุง -->
        <div class="absolute top-4 left-4 z-10 flex items-center space-x-2 rtl:space-x-reverse">
          <div class="w-3 h-3 rounded-full" 
               [class.bg-red-500]="!isCameraOn"
               [class.bg-green-500]="isCameraOn"
               [class.animate-pulse]="isCameraOn"></div>
          <span class="text-white text-sm font-medium">
            {{ isCameraOn ? 'ุงููุงููุฑุง ุชุนูู' : 'ุงููุงููุฑุง ูุบููุฉ' }}
          </span>
        </div>

        <!-- ุงูููุฏูู -->
        <video 
          #videoElement
          autoplay 
          playsinline 
          muted
          class="w-full h-full object-cover"
          [class.hidden]="!isCameraOn">
        </video>

        <!-- ูุงููุงุณ ููุชุนุฑู -->
        <canvas #canvasElement class="hidden"></canvas>

        <!-- ุฑุณุงูุฉ ุนูุฏูุง ุชููู ุงููุงููุฑุง ูุบููุฉ -->
        <div *ngIf="!isCameraOn" class="text-white text-center p-4">
          <div class="text-6xl mb-4">๐ท</div>
          <p class="text-xl mb-2">ุงููุงููุฑุง ูุบููุฉ</p>
          <p class="text-gray-300">ุงุถุบุท ุนูู ุฒุฑ ุงูุชุดุบูู ูุจุฏุก ุงูุชุนุฑู ุนูู ุงูุฃุดูุงุก</p>
        </div>
      </div>
    </div>

    <!-- ุขุฎุฑ ูุงุฆู ุชู ุงูุชุนุฑู ุนููู -->
    <div *ngIf="lastDetectedObject && isCameraOn" 
         class="bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6 animate-fade-in">
      <div class="flex items-center justify-between">
        <div>
          <h3 class="text-lg font-semibold text-blue-800 dark:text-blue-200">ุชู ุงูุชุนุฑู ุนูู:</h3>
          <p class="text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1">
            {{ lastDetectedObject }}
          </p>
        </div>
        <div class="text-3xl">๐ฏ</div>
      </div>
    </div>

    <!-- ููุญุฉ ุงูุชุญูู -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <!-- ุฒุฑ ุชุดุบูู/ุฅููุงู ุงููุงููุฑุง -->
        <button 
          (click)="toggleCamera()"
          [disabled]="!isModelLoaded || isLoading"
          class="flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white transition-colors"
          [class.bg-green-600]="!isCameraOn"
          [class.bg-red-600]="isCameraOn"
          [class.hover-bg-green-700]="!isCameraOn"
          [class.hover-bg-red-700]="isCameraOn"
          [class.opacity-50]="!isModelLoaded || isLoading"
        >
          <span class="ml-2">{{ isCameraOn ? 'ุฅููุงู ุงููุงููุฑุง' : 'ุชุดุบูู ุงููุงููุฑุง' }}</span>
          {{ isCameraOn ? 'โน๏ธ' : 'โถ๏ธ' }}
        </button>

        <!-- ุฒุฑ ุชุจุฏูู ุงููุงููุฑุง -->
        <button 
          (click)="switchCamera()"
          [disabled]="!isModelLoaded || isLoading"
          class="flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 border border-transparent text-base font-medium rounded-lg text-white transition-colors disabled:opacity-50"
        >
          <span class="ml-2">ุชุจุฏูู ุงููุงููุฑุง</span>
          ๐
        </button>

        <!-- ุฒุฑ ุฅุนุงุฏุฉ ุชุญููู ุงููููุฐุฌ -->
        <button 
          (click)="reloadModel()"
          [disabled]="isLoading"
          class="flex items-center justify-center px-6 py-3 bg-purple-600 hover:bg-purple-700 border border-transparent text-base font-medium rounded-lg text-white transition-colors disabled:opacity-50"
        >
          <span class="ml-2">ุฅุนุงุฏุฉ ุชุญููู ุงููููุฐุฌ</span>
          ๐
        </button>
      </div>

      <!-- ุญุงูุฉ ุงููููุฐุฌ -->
      <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
        <div class="flex items-center justify-between">
          <span class="text-gray-700 dark:text-gray-300">ุญุงูุฉ ุงููููุฐุฌ:</span>
          <span class="flex items-center" [class.text-green-600]="isModelLoaded" [class.text-red-600]="!isModelLoaded">
            {{ isModelLoaded ? '๐ข ุฌุงูุฒ' : '๐ด ุบูุฑ ูุญูู' }}
          </span>
        </div>
      </div>
    </div>

    

    <!-- ูุนูููุงุช ุงูุชุทุจูู -->
    <div class="mt-8 bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-lg p-6">
      <h3 class="text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2">ูุนูููุงุช ูููุฉ:</h3>
      <ul class="list-disc list-inside space-y-2 text-yellow-700 dark:text-yellow-300">
        <li>ุงูุชุทุจูู ูุชุนุฑู ุนูู ุงูุฃุดูุงุก ุฃูุงู ุงููุงููุฑุง ูููุทููุง ุจุงููุบุฉ ุงูุนุฑุจูุฉ</li>
        <li>ูุฃูุถู ุฃุฏุงุกุ ุชุฃูุฏ ูู ุฅุนุทุงุก ุงูุฅุฐู ูุงุณุชุฎุฏุงู ุงููุงููุฑุง</li>
        <li>ุงูุชุนุฑู ุนูู ุงูุฃุดูุงุก ูุนูู ูู ุซุงููุชูู ูุชูููู ุงุณุชููุงู ุงูุทุงูุฉ</li>
        <li>ุงูุตูุช ูุง ูุชูุฑุฑ ูููุณ ุงููุงุฆู ูู ูุชุฑุฉ ุฃูู ูู 3 ุซูุงูู</li>
      </ul>
    </div>
  </main>
</div>